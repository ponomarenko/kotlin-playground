<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>WebView Demo</title>
    <link crossorigin="anonymous"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          rel="stylesheet">
    <style>
        label {
          display: block;
          margin-top: 1rem;
        }

        input {
          margin-bottom: 1rem;
        }

    </style>
    <script>
        (function (client) {
          // Ensure client is defined before proceeding
          if (!client) {
            console.error('Client object not available.');
            return;
          }

          // Show loader and log the action
          client.dispatchEvent('loader.show');
          console.log('Loader shown.');

          // Display and log the first toast message
          const initialToastMessage = 'Loading... Please wait.';
          client.showToast(initialToastMessage);
          console.log(`Toast message: ${initialToastMessage}`);

          // Try to get the Android version and handle potential errors
          let androidVersion;
          try {
            androidVersion = client.getAndroidVersion();
            console.log('Android version:', androidVersion);
          } catch (error) {
            console.error('Error retrieving Android version:', error);
          }

          // Delay for 5 seconds before proceeding
          setTimeout(() => {
            // Display and log the final toast message
            const finalToastMessage = 'Process completed.';
            client.showToast(finalToastMessage);
            console.log(`Toast message: ${finalToastMessage}`);

            // Hide loader and log the action
            client.dispatchEvent('loader.hide');
            console.log('Loader hidden.');
          }, 5000);
        })(window['appClient'] || (window['appClient'] = {}));
    </script>
</head>
<body>
<div class="container py-5">
    <h1 class="h2">WebView Demo Page</h1>
    <div class="mb-3">
        <label class="form-label" for="selfie">Take a picture of your face:</label>
        <input accept="image/*"
               aria-describedby="emailHelp" capture="user" class="form-control" id="selfie"
               name="selfie" type="file">
    </div>

    <div class="mb-3">
        <label class="form-label" for="picture">Take a picture using back facing camera:</label>
        <input accept="image/*"
               aria-describedby="emailHelp" capture="environment" class="form-control" id="picture"
               name="picture" type="file">
    </div>
</div>
<script crossorigin="anonymous"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>